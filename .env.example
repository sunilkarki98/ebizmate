# ===========================================
# EbizMate — Environment Variables
# ===========================================
# Copy this file to .env and fill in the values.
# Variables marked [REQUIRED] must be set before starting.

# -------------------------------------------------------
# 1. DATABASE (Supabase)
# -------------------------------------------------------
# [REQUIRED] Get these from: Supabase Dashboard → Settings → Database → Connection string
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres"

# -------------------------------------------------------
# 2. SUPABASE AUTH (Customer-facing auth)
# -------------------------------------------------------
# [REQUIRED] Get these from: Supabase Dashboard → Settings → API
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJ..."

# [REQUIRED] Get from: Supabase Dashboard → Settings → API → JWT Secret
# Used by NestJS to verify customer Supabase JWTs
SUPABASE_JWT_SECRET="your-supabase-jwt-secret"

# -------------------------------------------------------
# 3. NEXTAUTH (Admin panel auth)
# -------------------------------------------------------
# [REQUIRED] Generate with: openssl rand -base64 32
AUTH_SECRET="generate-a-random-32-char-secret-here"
NEXTAUTH_SECRET="${AUTH_SECRET}"
NEXTAUTH_URL="http://localhost:3000"

# -------------------------------------------------------
# 4. ENCRYPTION
# -------------------------------------------------------
# [REQUIRED] Generate with: openssl rand -hex 16
# Used for encrypting API keys stored in the database
ENCRYPTION_KEY="generate-a-random-32-char-key-here"

# -------------------------------------------------------
# 5. GOOGLE OAUTH (Optional — enables "Login with Google")
# -------------------------------------------------------
# Get from: Google Cloud Console → Credentials → OAuth 2.0
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""

# -------------------------------------------------------
# 6. REDIS (Local Docker container)
# -------------------------------------------------------
# Default works with: docker compose up redis -d
REDIS_URL="redis://localhost:6379"

# -------------------------------------------------------
# 7. NESTJS API
# -------------------------------------------------------
PORT="3001"
CORS_ORIGIN="http://localhost:3000"
FRONTEND_URL="http://localhost:3000"

# Used by Next.js frontend to proxy requests to NestJS
NEXT_PUBLIC_API_URL="http://localhost:3001"

# [REQUIRED] Shared secret for internal service-to-service auth (webhook forwarding).
# Generate with: openssl rand -hex 32
INTERNAL_API_SECRET="generate-a-random-64-char-hex-here"

# -------------------------------------------------------
# 8. AI PROVIDERS (At least one required for AI features)
# -------------------------------------------------------
# Set API keys via the Admin Settings UI, OR hardcode here:
# OPENAI_API_KEY=""
# GEMINI_API_KEY=""
# OPENROUTER_API_KEY=""
# GROQ_API_KEY=""

# -------------------------------------------------------
# 9. WEBHOOKS (Optional — for platform integrations)
# -------------------------------------------------------
# WEBHOOK_SECRET=""
# WEBHOOK_VERIFY_TOKEN=""

# -------------------------------------------------------
# 10. ENVIRONMENT
# -------------------------------------------------------
NODE_ENV="development"
